import{Jb as d,Za as c,_a as g,a,l as h,n,p as l,ub as m}from"./chunk-VXBRRWNJ.js";var i=class{constructor(t){this.validationMessages=t}messageProcessing(t){let r={};for(let e in t.controls)if(t.controls.hasOwnProperty(e)){let s=t.controls[e];if(s instanceof m){let o=this.messageProcessing(s);Object.assign(r,o)}else this.validationMessages[e]&&(r[e]="",(s.dirty||s.touched)&&s.errors&&Object.keys(s.errors).map(o=>{this.validationMessages[e][o]&&(r[e]+=this.validationMessages[e][o]+"<br />")}))}return r}};var u=class{constructor(){this.displayMessage={}}settingUpMessagesValidation(t){this.genericValidator=new i(t)}settingUpFormValidation(t,r){let e=t.map(o=>n(o.nativeElement,"blur")),s=t.map(o=>n(o.nativeElement,"keyup"));l(...s).subscribe(()=>{this.formValidate(r)}),l(...e).subscribe(()=>{this.formValidate(r)})}formValidate(t){t.forEach(r=>{let e=this.genericValidator.messageProcessing(r);this.displayMessage=a(a({},this.displayMessage),e)}),this.changesNotSaved=!0}};var f={production:!0,apiUrlv1:"https://localhost:44321/api/v1/",apiImagesUrlv1:"https://localhost:44321/"};var v=class{constructor(){this.localStorage=new d,this.urlServiceV1=f.apiUrlv1}getJSONHeader(){return{headers:new c({"Content-Type":"application/json"})}}getAuthJSONHeader(){return{headers:new c({"Content-Type":"application/json",Authorization:`Bearer ${this.localStorage.getLocalUserToken()}`})}}extractData(t){return t.data||{}}serviceError(t){let r=[];return t instanceof g&&t.statusText==="Unknown Error"&&(r.push("Unknown server error."),t.error.errors=r),console.error(t),h(()=>t)}};export{u as a,f as b,v as c};
