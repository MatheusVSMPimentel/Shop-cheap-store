import{a as bt,c as Et,d as w,e as q,i as Ae,j as H,l as Ct}from"./chunk-YGKAM2VZ.js";import{a as ht,b as St,c as gt}from"./chunk-4PUTRX2P.js";import{$ as o,$a as mt,Aa as at,Ab as P,Ba as r,Bb as _e,Ca as B,Cb as Me,D as L,Da as S,Db as Ie,E as me,F as Xe,Fa as ot,Fb as Ne,G as K,Ga as A,Ha as v,I as x,Ia as C,Ib as ft,J as ce,Ja as st,Jb as vt,Ka as T,L as Ye,La as lt,Mb as yt,Nb as je,O as We,Oa as pt,P as J,Pb as Fe,Q as Z,Qb as xt,Rb as Pe,Sa as ve,Ta as _,Ua as V,V as Q,Vb as ie,X as y,Y as et,Ya as dt,Z as ue,a as Ue,aa as f,b as $e,ea as he,fa as u,gb as ee,h as Ke,ha as d,hb as te,i as Je,ia as fe,ib as ct,jb as j,ka as tt,kb as M,la as i,lb as Ve,m as G,ma as t,na as m,nb as Se,pb as ge,q as Ze,qa as Le,ra as N,rb as g,sa as h,sb as ye,t as z,ta as it,tb as xe,ua as nt,va as rt,vb as D,wb as be,xa as X,xb as Ee,y as Qe,ya as Y,yb as Ce,za as W,zb as ut}from"./chunk-VXBRRWNJ.js";var Ot=["overlay"],zt=["*"];function Lt(n,e){n&1&&m(0,"div")}function Vt(n,e){if(n&1&&(i(0,"div"),u(1,Lt,1,0,"div",6),t()),n&2){let l=h(2);tt(l.spinner.class),fe("color",l.spinner.color),o(),d("ngForOf",l.spinner.divArray)}}function jt(n,e){if(n&1&&(m(0,"div",7),C(1,"safeHtml")),n&2){let l=h(2);d("innerHTML",st(1,1,l.template),y)}}function Pt(n,e){if(n&1&&(i(0,"div",2,0),u(2,Vt,2,5,"div",3)(3,jt,2,3,"div",4),i(4,"div",5),nt(5),t()()),n&2){let l=h();fe("background-color",l.spinner.bdColor)("z-index",l.spinner.zIndex)("position",l.spinner.fullScreen?"fixed":"absolute"),d("@.disabled",l.disableAnimation)("@fadeIn","in"),o(2),d("ngIf",!l.template),o(),d("ngIf",l.template),o(),fe("z-index",l.spinner.zIndex)}}var qt={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},qe={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},He="primary",U=class n{constructor(e){Object.assign(this,e)}static create(e){return!e?.template&&!e?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new n(e)}},pe=(()=>{let e=class e{constructor(){this.spinnerObservable=new Je(null)}getSpinner(a){return this.spinnerObservable.asObservable().pipe(Ze(p=>p&&p.name===a))}show(a=He,p){return new Promise((s,c)=>{setTimeout(()=>{p&&Object.keys(p).length?(p.name=a,this.spinnerObservable.next(new U($e(Ue({},p),{show:!0}))),s(!0)):(this.spinnerObservable.next(new U({name:a,show:!0})),s(!0))},10)})}hide(a=He,p=10){return new Promise((s,c)=>{setTimeout(()=>{this.spinnerObservable.next(new U({name:a,show:!1})),s(!0)},p)})}};e.\u0275fac=function(p){return new(p||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Mt=new Xe("NGX_SPINNER_CONFIG"),Ht=(()=>{let e=class e{constructor(a){this._sanitizer=a}transform(a){if(a)return this._sanitizer.bypassSecurityTrustHtml(a)}};e.\u0275fac=function(p){return new(p||e)(f(ee,16))},e.\u0275pipe=Ye({name:"safeHtml",type:e,pure:!0,standalone:!0});let n=e;return n})(),ne=(()=>{let e=class e{constructor(a,p,s,c){this.spinnerService=a,this.changeDetector=p,this.elementRef=s,this.globalConfig=c,this.disableAnimation=!1,this.spinner=new U,this.ngUnsubscribe=new Ke,this.setDefaultOptions=()=>{let{type:E}=this.globalConfig??{};this.spinner=U.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??E,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=qe.BD_COLOR,this.zIndex=qe.Z_INDEX,this.color=qe.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=He,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Qe(this.ngUnsubscribe)).subscribe(a=>{this.setDefaultOptions(),Object.assign(this.spinner,a),a.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(a){return a===this.elementRef.nativeElement.parentElement?!0:a.parentNode&&this.isSpinnerZone(a.parentNode)}ngOnChanges(a){for(let p in a)if(p){let s=a[p];if(s.isFirstChange())return;typeof s.currentValue<"u"&&s.currentValue!==s.previousValue&&s.currentValue!==""&&(this.spinner[p]=s.currentValue,p==="showSpinner"&&(s.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),p==="name"&&this.initObservable())}}getClass(a,p){this.spinner.divCount=qt[a],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((c,E)=>E);let s="";switch(p.toLowerCase()){case"small":s="la-sm";break;case"medium":s="la-2x";break;case"large":s="la-3x";break;default:break}return"la-"+a+" "+s}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}};e.\u0275fac=function(p){return new(p||e)(f(pe),f(pt),f(Q),f(Mt,8))},e.\u0275cmp=x({type:e,selectors:[["ngx-spinner"]],viewQuery:function(p,s){if(p&1&&X(Ot,5),p&2){let c;Y(c=W())&&(s.spinnerDOM=c.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[We,ot],ngContentSelectors:zt,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(p,s){p&1&&(it(),u(0,Pt,6,12,"div",1)),p&2&&d("ngIf",s.spinner.show)},dependencies:[Ht,V,_],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[yt("fadeIn",[xt("in",Fe({opacity:1})),Pe(":enter",[Fe({opacity:0}),je(300)]),Pe(":leave",je(200,Fe({opacity:0})))])]},changeDetection:0});let n=e;return n})(),Ji=(()=>{let e=class e{static forRoot(a){return{ngModule:e,providers:[{provide:Mt,useValue:a}]}}};e.\u0275fac=function(p){return new(p||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=me({imports:[dt]});let n=e;return n})();var It=(()=>{let e=class e{};e.\u0275fac=function(p){return new(p||e)},e.\u0275cmp=x({type:e,selectors:[["app-supplier-app"]],decls:1,vars:0,template:function(p,s){p&1&&m(0,"router-outlet")},dependencies:[ct],encapsulation:2});let n=e;return n})();var Te=class{constructor(e){this.id=e.id,this.name=e.nome,this.description=e.descricao,this.image=e.imagem,this.imageUpload=e.imagemUpload,this.value=e.valor,this.registrationDate=e.dataCadastro,this.active=e.ativo,this.supplierId=e.fornecedorId,this.supplierName=e.nomeFornecedor}},we=class{constructor(e){this.id=e.id,this.nome=e.name,this.descricao=e.description,this.imagem=e.image,this.imagemUpload=e.imageUpload,this.valor=e.value,this.dataCadastro=e.registrationDate,this.ativo=e.active,this.fornecedorId=e.supplierId,this.nomeFornecedor=e.supplierName}},Nt=class{constructor(e){this.name=e.nome,this.id=e.id}};var k=class{constructor(e,l){e&&(this.id=e.id,this.street=e.logradouro,this.additionalAddress=e.complemento,this.houseNumber=e.numero,this.neighborhood=e.bairro,this.zipCode=e.cep,this.city=e.cidade,this.state=e.estado,this.supplierId=e.fornecedorId),l&&(this.street=l.logradouro,this.additionalAddress=l.complemento,this.neighborhood=l.bairro,this.city=l.localidade,this.state=l.uf)}},re=class{constructor(e){e&&(this.id=e.id,this.logradouro=e.street,this.complemento=e.additionalAddress,this.numero=e.houseNumber,this.bairro=e.neighborhood,this.cep=e.zipCode,this.cidade=e.city,this.estado=e.state,this.fornecedorId=e.supplierId)}};var b=class{constructor(e){e&&(this.id=e.id,this.name=e.nome,this.active=e.ativo,this.document=e.documento,this.address=new k(e.endereco),this.supplierType=e.tipoFornecedor,this.products=e.produtos.map(l=>new Te(l)))}},ae=class{constructor(e){e&&(this.id=e.id,this.nome=e.name,this.ativo=e.active,this.documento=e.document,this.endereco=new re(e.address),this.tipoFornecedor=e.supplierType,this.produtos=e.products.map(l=>new we(l)))}};var I=(()=>{let e=class e extends gt{constructor(a){super(),this.http=a,this.supplier=new b,this.supplier.name="Teste Fake",this.supplier.document="32165498754",this.supplier.active=!0,this.supplier.supplierType=1}getAll(){return this.http.get(this.urlServiceV1+"fornecedores").pipe(z(super.serviceError))}getById(a){return this.http.get(this.urlServiceV1+`fornecedores/${a}`,this.getAuthJSONHeader()).pipe(z(super.serviceError))}registerSupplier(a){return this.http.post(this.urlServiceV1+"fornecedores",JSON.stringify(a),this.getAuthJSONHeader()).pipe(G(this.extractData),z(this.serviceError))}updateSupplier(a){return this.http.put(this.urlServiceV1+`fornecedores/${a.id}`,JSON.stringify(a),this.getAuthJSONHeader()).pipe(G(this.extractData),z(this.serviceError))}updateAddress(a){return this.http.put(this.urlServiceV1+`fornecedores/endereco/${a.id}`,JSON.stringify(a),this.getAuthJSONHeader()).pipe(G(this.extractData),z(this.serviceError))}deleteSupplier(a){return this.http.delete(this.urlServiceV1+`fornecedores/${a}`,this.getAuthJSONHeader()).pipe(G(this.extractData),z(this.serviceError))}searchCep(a){return this.http.get(`https://viacep.com.br/ws/${a}/json/`).pipe(z(super.serviceError))}};e.\u0275fac=function(p){return new(p||e)(K(mt))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let n=e;return n})();var Gt=()=>["/supplier/register"],Bt=n=>["/supplier/details",n],Ut=n=>["/supplier/edit",n],$t=n=>["/supplier/delete",n];function Kt(n,e){if(n&1&&(i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),C(5,"mask"),t(),i(6,"td"),m(7,"input",7),t(),i(8,"td",8)(9,"a",3),m(10,"span",9),t(),r(11,"\xA0 "),i(12,"a",10),m(13,"span",11),t(),r(14,"\xA0 "),i(15,"a",12),m(16,"span",13),t()()()),n&2){let l,a=e.$implicit,p=h();o(2),S(" ",a.name," "),o(2),S(" ",T(5,6,a.document,(l=p.MASKS[a.supplierType==1?"cpf":"cnpj"].text)!==null&&l!==void 0?l:"")," "),o(3),d("checked",a.active),o(2),d("routerLink",v(9,Bt,a.id)),o(3),d("routerLink",v(11,Ut,a.id)),o(3),d("routerLink",v(13,$t,a.id))}}var Ft=(()=>{let e=class e{constructor(a,p){this.supplierService=a,this.spinnerServ=p,this.MASKS=q,this.spinnerServ.show()}ngOnInit(){this.supplierService.getAll().pipe(G(a=>a.map(p=>new b(p)))).subscribe({next:a=>{this.suppliers=a,this.spinnerServ.hide()},error:a=>this.errorMessage})}};e.\u0275fac=function(p){return new(p||e)(f(I),f(pe))},e.\u0275cmp=x({type:e,selectors:[["app-supplier-list"]],decls:20,vars:4,consts:[[1,"container","main-container"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","pacman",3,"fullScreen"],[2,"color","white"],[1,"btn","btn-info",3,"routerLink"],[1,"table","table-hover"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["aria-label","active","disabled","disabled","type","checkbox",1,"check-box",3,"checked"],[1,"text-right"],[1,"fa","fa-search"],[1,"btn","btn-warning",3,"routerLink"],[1,"fa","fa-pencil-alt"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-trash"]],template:function(p,s){p&1&&(i(0,"div",0)(1,"ngx-spinner",1)(2,"p",2),r(3," Loading... "),t()(),i(4,"h1"),r(5,"Suppliers List"),t(),i(6,"p")(7,"a",3),r(8,"New Supplier"),t()(),i(9,"table",4)(10,"thead",5)(11,"tr")(12,"th"),r(13,"Name"),t(),i(14,"th"),r(15,"Document"),t(),i(16,"th"),r(17,"Active?"),t(),m(18,"th"),t()(),u(19,Kt,17,15,"tr",6),t()()),p&2&&(o(),d("fullScreen",!0),o(6),d("routerLink",A(3,Gt)),o(12),d("ngForOf",s.suppliers))},dependencies:[_,M,ne,H]});let n=e;return n})();var se=class extends ht{constructor(e){super(),this.supplierService=e,this.MASKS=q,this.errors=[],this.errorsEndereco=[],this.documentText="Document CNPJ (required)",this.supplierType=new D("",[g.required]),this.supplierZipCode=new D("",[g.required,w.cep]),this.validationMessages={name:{required:"The field name is required."},document:{required:"The field document is required.",cpf:"Document CPF is invalid.",cnpj:"Document CNPJ is invalid."},street:{required:"The field street is required."},houseNumber:{required:"The field house number is required."},neighborhood:{required:"The field neighborhood is required."},zipCode:{required:"The field zipcode is required.",cep:"Zipcode is invalid."},city:{required:"The field city is required."},state:{required:"The field state is required."}},super.settingUpMessagesValidation(this.validationMessages)}configurateValidationForm(e){super.settingUpFormValidation(e,[this.supplierForm,this.addressForm]),this.observablesOnForm(e)}observablesOnForm(e){this.supplierType.valueChanges.subscribe(()=>{this.changeDocumentValidation(),this.configurateValidationForm(e),this.supplierDocument.setValue(this.supplierDocument.value),super.formValidate([this.supplierForm,this.addressForm])}),this.addressForm?.valueChanges.subscribe(()=>{this.configurateValidationForm(e),super.formValidate([this.supplierForm,this.addressForm])})}changeDocumentValidation(){this.supplierType.value==="1"?(this.supplierDocument.clearValidators(),this.supplierDocument.setValidators([g.required,w.cpf]),this.documentText="Document CPF (required)"):(this.supplierDocument.clearValidators(),this.supplierDocument.setValidators([g.required,w.cnpj]),this.documentText="Document CNPJ (required)")}searchCep(e){let l=this.supplierZipCode.value;l&&this.supplierService.searchCep(l).subscribe({next:a=>this.setupAddressForm(a),error:a=>this.errors.push(a)})}setupAddressForm(e){e.cep=this.supplierZipCode.value,this.addressForm.patchValue(new k(void 0,e)),this.supplierForm.patchValue(new k(void 0,e))}};var R=n=>({"is-invalid":n}),Zt=()=>["/supplier/list"];function Qt(n,e){if(n&1&&(i(0,"li"),r(1),t()),n&2){let l=e.$implicit;o(),B(l)}}function Xt(n,e){if(n&1&&(i(0,"div",56)(1,"h3",57),r(2,"Oops! Something isn't right:"),t(),i(3,"ul"),u(4,Qt,2,1,"li",58),t()()),n&2){let l=h();o(4),d("ngForOf",l.errors)}}function Yt(n,e){if(n&1&&(i(0,"span",59),m(1,"p",60),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.name,y)}}function Wt(n,e){if(n&1&&(i(0,"span",59),m(1,"p",60),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.document,y)}}function ei(n,e){if(n&1&&(i(0,"span",59),m(1,"p",60),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.zipCode,y)}}function ti(n,e){if(n&1&&(i(0,"span",59),m(1,"p",60),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.street,y)}}function ii(n,e){if(n&1&&(i(0,"span",59),m(1,"p",60),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.houseNumber,y)}}function ni(n,e){if(n&1&&(i(0,"span",59),m(1,"p",60),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.additionalAddress,y)}}function ri(n,e){if(n&1&&(i(0,"span",59),m(1,"p",60),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.neighborhood,y)}}function ai(n,e){if(n&1&&(i(0,"span",59),m(1,"p",60),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.city,y)}}function oi(n,e){if(n&1&&(i(0,"span",59),m(1,"p",60),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.state,y)}}var Tt=(()=>{let e=class e extends se{constructor(a,p,s,c){super(p),this.formBuilder=a,this.router=s,this.toastr=c,this.formResult=""}ngAfterViewInit(){super.configurateValidationForm(this.formInputElements)}ngOnInit(){this.supplierType=new D("2",[]),this.supplierDocument=new D("",[g.required,w.cnpj]),this.supplierZipCode=new D("",[g.required,w.cep]),this.supplierForm=this.formBuilder.group({name:["",[g.required]],document:this.supplierDocument,active:["",[g.required]],supplierType:this.supplierType,address:this.formBuilder.group({street:["",[g.required]],houseNumber:["",[g.required]],additionalAddress:[""],neighborhood:["",[g.required]],zipCode:this.supplierZipCode,city:["",[g.required]],state:["",[g.required]]})}),this.supplierForm.patchValue({active:!0})}registerSupplier(){this.supplierForm.dirty&&this.supplierForm.valid&&(this.supplier=Object.assign({},this.supplier,this.supplierForm.value),this.supplier.supplierType=this.supplierType.value==="1"?1:0,this.formResult=JSON.stringify(this.supplier),this.supplierService.registerSupplier(new ae(this.supplier)).subscribe({next:a=>this.successOnRegister(a),error:a=>this.errorOnRegister(a)}))}successOnRegister(a){this.supplierForm.reset(),this.errors=[],this.changesNotSaved=!1,this.supplierService.localStorage.setLocalUserData(a);let p=this.toastr.success("The Supplier registration has been successful","Welcome!! :D");p&&p.onHidden.subscribe(()=>this.router.navigate(["/supplier/list"]))}errorOnRegister(a){this.errors=a.error.errors,this.toastr.error("An error occurred ","Oops :'(")}};e.\u0275fac=function(p){return new(p||e)(f(Ne),f(I),f(j),f(ie))},e.\u0275cmp=x({type:e,selectors:[["app-supplier-register"]],viewQuery:function(p,s){if(p&1&&X(P,5,Q),p&2){let c;Y(c=W())&&(s.formInputElements=c)}},features:[he],decls:151,vars:49,consts:[[1,"container","main-container"],[1,"row"],[1,"col-md-10"],["novalidate","novalidate",3,"ngSubmit","formGroup"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],[1,"control-label"],["id","name","type","text","placeholder","Name (required)","formControlName","name",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["id","document","type","text","formControlName","document",1,"form-control",3,"placeholder","dropSpecialCharacters","mask","ngClass"],["for","supplierType",1,"control-label"],["type","radio","value","1","id","supplierType","formControlName","supplierType","name","supplierType"],["type","radio","value","2","id","supplierType","formControlName","supplierType","name","supplierType"],[1,"form-group","form-check"],[1,"form-check-label"],["type","checkbox","id","active","formControlName","active","name","active","value","true",1,"form-check-input"],["formGroupName","address"],["id","zipCode","type","text","placeholder","ZipCode (required)","formControlName","zipCode",1,"form-control",3,"blur","dropSpecialCharacters","mask","ngClass"],["id","street","type","text","placeholder","Street (required)","formControlName","street",1,"form-control",3,"ngClass"],["id","houseNumber","type","text","placeholder","House Number (required)","formControlName","houseNumber",1,"form-control",3,"ngClass"],["id","additionalAddress","type","text","placeholder","Additional Address","formControlName","additionalAddress",1,"form-control",3,"ngClass"],["id","neighborhood","type","text","placeholder","Neighborhood (required)","formControlName","neighborhood",1,"form-control",3,"ngClass"],["id","city","type","text","placeholder","City (required)","formControlName","city",1,"form-control",3,"ngClass"],["for","state",1,"control-label"],["id","state","formControlName","state",1,"form-control",3,"ngClass"],["value",""],["value","AC"],["value","AL"],["value","AP"],["value","AM"],["value","BA"],["value","CE"],["value","DF"],["value","ES"],["value","GO"],["value","MA"],["value","MT"],["value","MS"],["value","MG"],["value","PA"],["value","PB"],["value","PR"],["value","PE"],["value","PI"],["value","RJ"],["value","RN"],["value","RS"],["value","RO"],["value","RR"],["value","SC"],["value","SP"],["value","SE"],["value","TO"],["type","submit","value","Register",1,"btn","btn-primary"],[1,"btn","btn-info",3,"routerLink"],[1,"col-md-4","col-md-offset-2"],[1,"alert","alert-danger"],["id","msgRetorno"],[4,"ngFor","ngForOf"],[1,"text-danger"],[3,"innerHTML"]],template:function(p,s){p&1&&(i(0,"div",0)(1,"h1"),r(2,"New Supplier"),t(),m(3,"hr"),i(4,"div",1)(5,"div",2)(6,"form",3),N("ngSubmit",function(){return s.registerSupplier()}),u(7,Xt,5,1,"div",4),i(8,"div",5)(9,"label",6),r(10,"Name"),t(),i(11,"div"),m(12,"input",7),u(13,Yt,2,1,"span",8),t()(),i(14,"div",5)(15,"label",6),r(16,"Document"),t(),i(17,"div"),m(18,"input",9),u(19,Wt,2,1,"span",8),t()(),i(20,"div",5)(21,"label",10),r(22,"Supplier Type"),t(),m(23,"br")(24,"input",11),r(25," Private Individual"),m(26,"br")(27,"input",12),r(28," Legal entity "),t(),i(29,"div",13)(30,"label",14),m(31,"input",15),r(32," Active? "),t()(),i(33,"h4"),r(34,"Address"),t(),m(35,"hr"),i(36,"div",16)(37,"div",5)(38,"label",6),r(39,"ZipCode"),t(),i(40,"div")(41,"input",17),N("blur",function(E){return s.searchCep(E.target)}),t(),u(42,ei,2,1,"span",8),t()(),i(43,"div",5)(44,"label",6),r(45,"Street"),t(),i(46,"div"),m(47,"input",18),u(48,ti,2,1,"span",8),t()(),i(49,"div",5)(50,"label",6),r(51,"House Number"),t(),i(52,"div"),m(53,"input",19),u(54,ii,2,1,"span",8),t()(),i(55,"div",5)(56,"label",6),r(57,"Additional Address"),t(),i(58,"div"),m(59,"input",20),u(60,ni,2,1,"span",8),t()(),i(61,"div",5)(62,"label",6),r(63,"Neighborhood"),t(),i(64,"div"),m(65,"input",21),u(66,ri,2,1,"span",8),t()(),i(67,"div",5)(68,"label",6),r(69,"City"),t(),i(70,"div"),m(71,"input",22),u(72,ai,2,1,"span",8),t()(),i(73,"div",5)(74,"label",23),r(75,"State"),t(),i(76,"div")(77,"select",24)(78,"option",25),r(79,"Estado"),t(),i(80,"option",26),r(81,"Acre"),t(),i(82,"option",27),r(83,"Alagoas"),t(),i(84,"option",28),r(85,"Amap\xE1"),t(),i(86,"option",29),r(87,"Amazonas"),t(),i(88,"option",30),r(89,"Bahia"),t(),i(90,"option",31),r(91,"Cear\xE1"),t(),i(92,"option",32),r(93,"Distrito Federal"),t(),i(94,"option",33),r(95,"Esp\xEDrito Santo"),t(),i(96,"option",34),r(97,"Goi\xE1s"),t(),i(98,"option",35),r(99,"Maranh\xE3o"),t(),i(100,"option",36),r(101,"Mato Grosso"),t(),i(102,"option",37),r(103,"Mato Grosso do Sul"),t(),i(104,"option",38),r(105,"Minas Gerais"),t(),i(106,"option",39),r(107,"Par\xE1"),t(),i(108,"option",40),r(109,"Para\xEDba"),t(),i(110,"option",41),r(111,"Paran\xE1"),t(),i(112,"option",42),r(113,"Pernambuco"),t(),i(114,"option",43),r(115,"Piau\xED"),t(),i(116,"option",44),r(117,"Rio de Janeiro"),t(),i(118,"option",45),r(119,"Rio Grande do Norte"),t(),i(120,"option",46),r(121,"Rio Grande do Sul"),t(),i(122,"option",47),r(123,"Rond\xF4nia"),t(),i(124,"option",48),r(125,"Roraima"),t(),i(126,"option",49),r(127,"Santa Catarina"),t(),i(128,"option",50),r(129,"S\xE3o Paulo"),t(),i(130,"option",51),r(131,"Sergipe"),t(),i(132,"option",52),r(133,"Tocantins"),t()(),u(134,oi,2,1,"span",8),t()()(),i(135,"div",5),m(136,"input",53),r(137,"\xA0 "),i(138,"a",54),r(139,"Back"),t()(),i(140,"div",5)(141,"div",55)(142,"p"),r(143),t(),i(144,"p"),r(145),t(),i(146,"p"),r(147),t(),m(148,"br"),i(149,"p"),r(150),t()()()()()()()),p&2&&(o(6),d("formGroup",s.supplierForm),o(),d("ngIf",s.errors.length>0),o(5),d("ngClass",v(30,R,s.displayMessage.name)),o(),d("ngIf",s.displayMessage.name),o(5),rt("placeholder",s.documentText),d("dropSpecialCharacters",!0)("mask",s.supplierType.value=="1"?s.MASKS.cpf.text:s.MASKS.cnpj.text)("ngClass",v(32,R,s.displayMessage.document)),o(),d("ngIf",s.displayMessage.document),o(22),d("dropSpecialCharacters",!0)("mask",s.MASKS.cep.text)("ngClass",v(34,R,s.displayMessage.zipCode)),o(),d("ngIf",s.displayMessage.zipCode),o(5),d("ngClass",v(36,R,s.displayMessage.street)),o(),d("ngIf",s.displayMessage.street),o(5),d("ngClass",v(38,R,s.displayMessage.houseNumber)),o(),d("ngIf",s.displayMessage.houseNumber),o(5),d("ngClass",v(40,R,s.displayMessage.additionalAddress)),o(),d("ngIf",s.displayMessage.additionalAddress),o(5),d("ngClass",v(42,R,s.displayMessage.neighborhood)),o(),d("ngIf",s.displayMessage.neighborhood),o(5),d("ngClass",v(44,R,s.displayMessage.city)),o(),d("ngIf",s.displayMessage.city),o(5),d("ngClass",v(46,R,s.displayMessage.state)),o(57),d("ngIf",s.displayMessage.state),o(4),d("routerLink",A(48,Zt)),o(5),S("Valid Form: ",s.supplierForm.valid,""),o(2),S("Touched Form: ",s.supplierForm.touched,""),o(2),S("Dirty Form: ",s.supplierForm.dirty,""),o(3),S("Form Result: ",s.formResult,""))},dependencies:[ve,_,V,M,be,Me,Ie,ge,Se,_e,Ee,ye,xe,Ce,P,ut,Ae]});let n=e;return n})();var li=n=>["/product/details",n],pi=n=>["/product/edit",n],di=n=>["/product/delete",n];function mi(n,e){if(n&1&&(i(0,"tr")(1,"td"),m(2,"img",6),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td"),r(8),C(9,"currencyBrazil"),t(),i(10,"td"),m(11,"input",7),t(),i(12,"td",8)(13,"a",9),m(14,"span",10),t(),r(15,"\xA0 "),i(16,"a",11),m(17,"span",12),t(),r(18,"\xA0 "),i(19,"a",13),m(20,"span",14),t()()()),n&2){let l=e.$implicit,a=h();o(2),d("src",a.images+l.image,et),o(2),S(" ",l.name," "),o(2),S(" ",l.supplierName," "),o(2),S(" ",T(9,8,l.value,2)," "),o(3),d("checked",l.active),o(2),d("routerLink",v(11,li,l.id)),o(3),d("routerLink",v(13,pi,l.id)),o(3),d("routerLink",v(15,di,l.id))}}var le=(()=>{let e=class e{constructor(){this.images=St.apiImagesUrlv1}};e.\u0275fac=function(p){return new(p||e)},e.\u0275cmp=x({type:e,selectors:[["app-products-supplier-list"]],inputs:{products:"products"},decls:22,vars:2,consts:[[1,"container","main-container"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","pacman",3,"fullScreen"],[2,"color","white"],[1,"table","table-hover"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["alt","",2,"width","70px","height","100px",3,"src"],["aria-label","active","disabled","disabled","type","checkbox",1,"check-box",3,"checked"],[1,"text-right"],[1,"btn","btn-warning",3,"routerLink"],[1,"fa","fa-search"],[1,"btn","btn-info",3,"routerLink"],[1,"fa","fa-pencil-alt"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-trash"]],template:function(p,s){p&1&&(i(0,"div",0)(1,"ngx-spinner",1)(2,"p",2),r(3," Loading... "),t()(),i(4,"h3"),r(5,"List of Products"),t(),m(6,"hr"),i(7,"table",3)(8,"thead",4)(9,"tr"),m(10,"th"),i(11,"th"),r(12," Name "),t(),i(13,"th"),r(14," Supplier "),t(),i(15,"th"),r(16," Value "),t(),i(17,"th"),r(18," Active? "),t(),m(19,"th"),t()(),i(20,"tbody"),u(21,mi,21,17,"tr",5),t()()()),p&2&&(o(),d("fullScreen",!0),o(20),d("ngForOf",s.products))},dependencies:[_,M,ne,Et],encapsulation:2});let n=e;return n})();var O=n=>({"is-invalid":n}),ci=()=>["/supplier/list"];function ui(n,e){if(n&1&&(i(0,"li"),r(1),t()),n&2){let l=e.$implicit;o(),B(l)}}function hi(n,e){if(n&1&&(i(0,"div",29)(1,"h3",30),r(2,"Oops! Something isn't right:"),t(),i(3,"ul"),u(4,ui,2,1,"li",31),t()()),n&2){let l=h();o(4),d("ngForOf",l.errors)}}function fi(n,e){if(n&1&&(i(0,"span",32),m(1,"p",33),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.name,y)}}function vi(n,e){if(n&1&&(i(0,"span",32),m(1,"p",33),t()),n&2){let l=h();o(),d("innerHTML",l.displayMessage.document,y)}}function Si(n,e){if(n&1&&(i(0,"li"),r(1),t()),n&2){let l=e.$implicit;o(),B(l)}}function gi(n,e){if(n&1&&(i(0,"div",29)(1,"h3",30),r(2,"Oops! Something isn't right:"),t(),i(3,"ul"),u(4,Si,2,1,"li",31),t()()),n&2){let l=h(2);o(4),d("ngForOf",l.errors)}}function yi(n,e){if(n&1&&(i(0,"span",32),m(1,"p",33),t()),n&2){let l=h(2);o(),d("innerHTML",l.displayMessage.zipCode,y)}}function xi(n,e){if(n&1&&(i(0,"span",32),m(1,"p",33),t()),n&2){let l=h(2);o(),d("innerHTML",l.displayMessage.street,y)}}function bi(n,e){if(n&1&&(i(0,"span",32),m(1,"p",33),t()),n&2){let l=h(2);o(),d("innerHTML",l.displayMessage.houseNumber,y)}}function Ei(n,e){if(n&1&&(i(0,"span",32),m(1,"p",33),t()),n&2){let l=h(2);o(),d("innerHTML",l.displayMessage.additionalAddress,y)}}function Ci(n,e){if(n&1&&(i(0,"span",32),m(1,"p",33),t()),n&2){let l=h(2);o(),d("innerHTML",l.displayMessage.neighborhood,y)}}function _i(n,e){if(n&1&&(i(0,"span",32),m(1,"p",33),t()),n&2){let l=h(2);o(),d("innerHTML",l.displayMessage.city,y)}}function Mi(n,e){if(n&1&&(i(0,"span",32),m(1,"p",33),t()),n&2){let l=h(2);o(),d("innerHTML",l.displayMessage.state,y)}}function Ii(n,e){if(n&1){let l=Le();i(0,"div",34)(1,"h4",35),r(2,"Update Address"),t(),i(3,"button",36),N("click",function(){let p=J(l).dismiss;return Z(p(""))}),i(4,"span",37),r(5,"\xD7"),t()()(),i(6,"form",38),N("ngSubmit",function(){J(l);let p=h();return Z(p.updateAddress())}),i(7,"div",39),u(8,gi,5,1,"div",5),i(9,"div",13)(10,"label",10),r(11,"Zipcode"),t(),i(12,"div")(13,"input",40),N("blur",function(p){J(l);let s=h();return Z(s.searchCep(p.target))}),t(),u(14,yi,2,1,"span",12),t()(),i(15,"div",13)(16,"label",10),r(17,"Street"),t(),i(18,"div"),m(19,"input",41),u(20,xi,2,1,"span",12),t()(),i(21,"div",13)(22,"label",10),r(23,"House Number"),t(),i(24,"div"),m(25,"input",42),u(26,bi,2,1,"span",12),t()(),i(27,"div",13)(28,"label",10),r(29,"Additional Address"),t(),i(30,"div"),m(31,"input",43),u(32,Ei,2,1,"span",12),t()(),i(33,"div",13)(34,"label",10),r(35,"Neighborhood"),t(),i(36,"div"),m(37,"input",44),u(38,Ci,2,1,"span",12),t()(),i(39,"div",13)(40,"label",10),r(41,"City"),t(),i(42,"div"),m(43,"input",45),u(44,_i,2,1,"span",12),t()(),i(45,"div",13)(46,"label",10),r(47,"State"),t(),i(48,"div")(49,"select",46)(50,"option",47),r(51,"Estado"),t(),i(52,"option",48),r(53,"Acre"),t(),i(54,"option",49),r(55,"Alagoas"),t(),i(56,"option",50),r(57,"Amap\xE1"),t(),i(58,"option",51),r(59,"Amazonas"),t(),i(60,"option",52),r(61,"Bahia"),t(),i(62,"option",53),r(63,"Cear\xE1"),t(),i(64,"option",54),r(65,"Distrito Federal"),t(),i(66,"option",55),r(67,"Esp\xEDrito Santo"),t(),i(68,"option",56),r(69,"Goi\xE1s"),t(),i(70,"option",57),r(71,"Maranh\xE3o"),t(),i(72,"option",58),r(73,"Mato Grosso"),t(),i(74,"option",59),r(75,"Mato Grosso do Sul"),t(),i(76,"option",60),r(77,"Minas Gerais"),t(),i(78,"option",61),r(79,"Par\xE1"),t(),i(80,"option",62),r(81,"Para\xEDba"),t(),i(82,"option",63),r(83,"Paran\xE1"),t(),i(84,"option",64),r(85,"Pernambuco"),t(),i(86,"option",65),r(87,"Piau\xED"),t(),i(88,"option",66),r(89,"Rio de Janeiro"),t(),i(90,"option",67),r(91,"Rio Grande do Norte"),t(),i(92,"option",68),r(93,"Rio Grande do Sul"),t(),i(94,"option",69),r(95,"Rond\xF4nia"),t(),i(96,"option",70),r(97,"Roraima"),t(),i(98,"option",71),r(99,"Santa Catarina"),t(),i(100,"option",72),r(101,"S\xE3o Paulo"),t(),i(102,"option",73),r(103,"Sergipe"),t(),i(104,"option",74),r(105,"Tocantins"),t()(),u(106,Mi,2,1,"span",12),t()()(),i(107,"div",75),m(108,"input",76),t()()}if(n&2){let l=h();o(6),d("formGroup",l.addressForm),o(2),d("ngIf",l.errors.length>0),o(5),d("mask",l.MASKS.cep.text)("ngClass",v(17,O,l.displayMessage.zipCode)),o(),d("ngIf",l.displayMessage.zipCode),o(5),d("ngClass",v(19,O,l.displayMessage.street)),o(),d("ngIf",l.displayMessage.street),o(5),d("ngClass",v(21,O,l.displayMessage.houseNumber)),o(),d("ngIf",l.displayMessage.houseNumber),o(5),d("ngClass",v(23,O,l.displayMessage.additionalAddress)),o(),d("ngIf",l.displayMessage.additionalAddress),o(5),d("ngClass",v(25,O,l.displayMessage.neighborhood)),o(),d("ngIf",l.displayMessage.neighborhood),o(5),d("ngClass",v(27,O,l.displayMessage.city)),o(),d("ngIf",l.displayMessage.city),o(5),d("ngClass",v(29,O,l.displayMessage.state)),o(57),d("ngIf",l.displayMessage.state)}}var wt=(()=>{let e=class e extends se{constructor(a,p,s,c,E,ze,Rt){super(p),this.fb=a,this.router=s,this.toastr=c,this.route=E,this.modalService=ze,this.spinnerServ=Rt,this.supplier=new b,this.address=new k,this.formResult="",this.spinnerServ.show(),this.supplier=new b(this.route.snapshot.data.supplier),this.supplierDocument=new D("",[g.required,this.supplier.supplierType===1?w.cpf:w.cnpj]),setTimeout(()=>{this.spinnerServ.hide()},700)}ngOnInit(){this.supplierForm=this.fb.group({id:"",name:["",[g.required]],document:this.supplierDocument,active:["",[g.required]],supplierType:this.supplierType}),this.addressForm=this.fb.group({id:"",street:["",[g.required]],houseNumber:["",[g.required]],additionalAddress:[""],neighborhood:["",[g.required]],zipCode:this.supplierZipCode,city:["",[g.required]],state:["",[g.required]],fornecedorId:""}),this.setupSupplierForm()}ngAfterViewInit(){super.configurateValidationForm(this.formInputElements)}setupSupplierForm(){this.supplierForm.patchValue(this.supplier),this.supplierType.setValue(this.supplier.supplierType.toString()),this.addressForm.patchValue(this.supplier.address),this.addressForm.markAsDirty(),super.formValidate([this.supplierForm,this.addressForm])}editSupplier(){this.supplierForm.dirty&&this.supplierForm.valid&&(this.changesNotSaved=!1,this.supplier=Object.assign({},this.supplier,this.supplierForm.value),this.supplier.supplierType=this.supplierType.value==="1"?1:0,this.supplierService.updateSupplier(new ae(this.supplier)).subscribe({next:a=>{this.processSuccess(a)},error:a=>{this.procesError(a)}}))}updateAddress(){this.addressForm.dirty&&this.addressForm.valid&&(this.address=Object.assign({},this.address,this.addressForm.value),this.address.zipCode=ft.onlyNumbers(this.address.zipCode),this.address.supplierId=this.supplier.id,this.supplierService.updateAddress(new re(this.address)).subscribe({next:a=>{this.processAddressUpdateSuccess(a)},error:a=>{this.procesError(a)}}))}processAddressUpdateSuccess(a){this.errors=[];let p=this.toastr.success("Supplier update successfully!","Successfully!");this.supplier.address=new k(a),this.modalService.dismissAll(),this.changesNotSaved=!1,p&&p.onHidden.subscribe(()=>{})}processSuccess(a){this.errors=[];let p=this.toastr.success("Supplier update successfully!","Successfully!");this.changesNotSaved=!1,p&&p.onHidden.subscribe(()=>{this.router.navigate(["/supplier/list"]),this.modalService.dismissAll()})}procesError(a){this.errors=a.error.errors,this.toastr.error("An error occurred ","Oops :'(")}openModal(a){this.modalService.open(a),super.configurateValidationForm(this.formInputElements)}};e.\u0275fac=function(p){return new(p||e)(f(Ne),f(I),f(j),f(ie),f(te),f(Ct),f(pe))},e.\u0275cmp=x({type:e,selectors:[["app-supplier-edit"]],viewQuery:function(p,s){if(p&1&&X(P,5,Q),p&2){let c;Y(c=W())&&(s.formInputElements=c)}},features:[he],decls:93,vars:26,consts:[["content",""],[1,"container","main-container"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","pacman",3,"fullScreen"],[2,"color","white"],["novalidate","novalidate",3,"ngSubmit","formGroup"],["class","alert alert-danger",4,"ngIf"],["type","hidden","id","id","name","id","value",""],["type","hidden","id","enderecoId","name","enderecoId","value",""],[1,"form-row"],[1,"form-group","col-md-6"],[1,"control-label"],["id","name","type","text","placeholder","Name (requerido)","formControlName","name",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"form-group"],["id","document","type","text","placeholder","Document requerido","formControlName","document",1,"form-control",3,"dropSpecialCharacters","mask","ngClass"],["for","supplierType",1,"control-label"],["type","radio","value","1","id","supplierType","formControlName","supplierType","name","supplierType"],["type","radio","value","2","id","supplierType","formControlName","supplierType","name","supplierType"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","id","active","formControlName","active","name","active","value","true",1,"form-check-input"],["type","submit","value","Edit",1,"btn","btn-primary"],[1,"btn","btn-info",3,"routerLink"],[2,"padding-top","20px"],[1,"table","table-hover"],[1,"thead-dark"],[1,"btn","btn-info",3,"click"],["title","Edit",1,"fa","fa-pencil-alt"],[3,"products"],[1,"alert","alert-danger"],["id","msgRetorno"],[4,"ngFor","ngForOf"],[1,"text-danger"],[3,"innerHTML"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"ngSubmit","formGroup"],[1,"modal-body"],["id","zipCode","type","text","placeholder","Zipcode (required)","formControlName","zipCode","cep","",1,"form-control",3,"blur","mask","ngClass"],["id","street","type","text","placeholder","Street (required)","formControlName","street",1,"form-control",3,"ngClass"],["id","houseNumber","type","text","placeholder","House Number (required)","formControlName","houseNumber",1,"form-control",3,"ngClass"],["id","additionalAddress","type","text","placeholder","Additional Address","formControlName","additionalAddress",1,"form-control",3,"ngClass"],["id","neighborhood","type","text","placeholder","Neighborhood (required)","formControlName","neighborhood",1,"form-control",3,"ngClass"],["id","city","type","text","placeholder","City (required)","formControlName","city",1,"form-control",3,"ngClass"],["id","state","formControlName","state",1,"form-control",3,"ngClass"],["value",""],["value","AC"],["value","AL"],["value","AP"],["value","AM"],["value","BA"],["value","CE"],["value","DF"],["value","ES"],["value","GO"],["value","MA"],["value","MT"],["value","MS"],["value","MG"],["value","PA"],["value","PB"],["value","PR"],["value","PE"],["value","PI"],["value","RJ"],["value","RN"],["value","RS"],["value","RO"],["value","RR"],["value","SC"],["value","SP"],["value","SE"],["value","TO"],[1,"modal-footer"],["type","submit","value","Update",1,"btn","btn-primary"]],template:function(p,s){if(p&1){let c=Le();i(0,"div",1)(1,"ngx-spinner",2)(2,"p",3),r(3," Loading... "),t()(),i(4,"h1"),r(5,"Edit Supplier"),t(),m(6,"hr"),i(7,"form",4),N("ngSubmit",function(){return J(c),Z(s.editSupplier())}),u(8,hi,5,1,"div",5),m(9,"input",6)(10,"input",7),i(11,"div",8)(12,"div",9)(13,"div")(14,"label",10),r(15,"Name"),t(),i(16,"div"),m(17,"input",11),u(18,fi,2,1,"span",12),t()(),i(19,"div",13)(20,"label",10),r(21,"Document"),t(),i(22,"div"),m(23,"input",14),u(24,vi,2,1,"span",12),t()()(),i(25,"div",9)(26,"div")(27,"label",15),r(28,"Supplier Type"),t(),m(29,"br")(30,"input",16),r(31," Private Individual "),m(32,"br")(33,"input",17),r(34," Legal entity "),t(),i(35,"div"),r(36," \xA0 "),t(),i(37,"div",18)(38,"label",19),m(39,"input",20),r(40," Active? "),t()()()(),i(41,"div",13),m(42,"input",21),r(43,"\xA0 "),i(44,"a",22),r(45,"Back"),t()(),i(46,"div")(47,"div",23)(48,"div"),m(49,"hr"),i(50,"h4"),r(51,"Address"),t()(),i(52,"table",24)(53,"thead",25)(54,"tr")(55,"th"),r(56," Street "),t(),i(57,"th"),r(58," House Number "),t(),i(59,"th"),r(60," Additional Address "),t(),i(61,"th"),r(62," Neighborhood "),t(),i(63,"th"),r(64," Zipcode "),t(),i(65,"th"),r(66," City "),t(),i(67,"th"),r(68," State "),t(),m(69,"th"),t()(),i(70,"tbody")(71,"tr")(72,"td"),r(73),t(),i(74,"td"),r(75),t(),i(76,"td"),r(77),t(),i(78,"td"),r(79),t(),i(80,"td"),r(81),C(82,"mask"),t(),i(83,"td"),r(84),t(),i(85,"td"),r(86),t(),i(87,"td")(88,"a",26),N("click",function(){J(c);let ze=at(92);return Z(s.openModal(ze))}),m(89,"span",27),t()()()()()()()(),m(90,"app-products-supplier-list",28),u(91,Ii,109,31,"ng-template",null,0,lt),t()}if(p&2){let c;o(),d("fullScreen",!0),o(6),d("formGroup",s.supplierForm),o(),d("ngIf",s.errors.length>0),o(9),d("ngClass",v(21,O,s.displayMessage.name)),o(),d("ngIf",s.displayMessage.name),o(5),d("dropSpecialCharacters",!0)("mask",s.supplierType.value=="1"?s.MASKS.cpf.text:s.MASKS.cnpj.text)("ngClass",v(23,O,s.displayMessage.document)),o(),d("ngIf",s.displayMessage.document),o(20),d("routerLink",A(25,ci)),o(29),S(" ",s.supplier.address.street," "),o(2),S(" ",s.supplier.address.houseNumber," "),o(2),S(" ",s.supplier.address.additionalAddress," "),o(2),S(" ",s.supplier.address.neighborhood," "),o(2),S(" ",T(82,18,s.supplier.address.zipCode,(c=s.MASKS.cep.text)!==null&&c!==void 0?c:"")," "),o(3),S(" ",s.supplier.address.city," "),o(2),S(" ",s.supplier.address.state," "),o(4),d("products",s.supplier.products)}},dependencies:[ve,_,V,M,be,Me,Ie,ge,Se,_e,Ee,ye,xe,Ce,P,bt,Ae,ne,le,H]});let n=e;return n})();var Ni=n=>["/supplier/edit",n],Fi=()=>["/supplier/list"],kt=(()=>{let e=class e{constructor(a,p,s){this.route=a,this.supplierService=p,this.sanitizer=s,this.supplier=new b,this.MASKS=q,this.supplier=new b(this.route.snapshot.data.supplier),this.addressMap=this.sanitizer.bypassSecurityTrustResourceUrl("https://www.google.com/maps/embed/v1/place?q="+this.fullAddressToString()+"&key=AIzaSyD4iE2xVSpkLLOXoyqT-RuPwURN3ddScAI")}fullAddressToString(){return`${this.supplier.address.street}, ${this.supplier.address.houseNumber} - ${this.supplier.address.neighborhood}, ${this.supplier.address.city} - ${this.supplier.address.state}`}};e.\u0275fac=function(p){return new(p||e)(f(te),f(I),f(ee))},e.\u0275cmp=x({type:e,selectors:[["app-supplier-details"]],decls:34,vars:14,consts:[[1,"container","main-container"],[1,"row"],[1,"col-sm-2"],[1,"control-label"],[1,"col-sm-10"],["aria-label","active","disabled","disabled","type","checkbox",1,"check-box",3,"checked"],["width","100%","height","450","frameborder","0","allowfullscreen","",2,"border","0","padding-bottom","50px",3,"src"],[3,"products"],[1,"btn","btn-dark",3,"routerLink"],[1,"btn","btn-info",3,"routerLink"]],template:function(p,s){if(p&1&&(i(0,"div",0)(1,"h1"),r(2),t(),i(3,"div")(4,"h4"),r(5,"Readonly Informations"),t(),m(6,"hr"),i(7,"dl",1)(8,"dt",2)(9,"label",3),r(10,"Name"),t()(),i(11,"dd",4),r(12),t(),i(13,"dt",2)(14,"label",3),r(15,"Document"),t()(),i(16,"dd",4),r(17),C(18,"mask"),t(),i(19,"dt",2)(20,"label",3),r(21,"Active"),t()(),i(22,"dd",4),m(23,"input",5),t()(),i(24,"div",1),m(25,"br")(26,"iframe",6),t(),m(27,"app-products-supplier-list",7),t(),i(28,"div")(29,"a",8),r(30,"Editar"),t(),r(31,"\xA0 "),i(32,"a",9),r(33,"Voltar"),t()()()),p&2){let c;o(2),S("Details supplier: ",s.supplier.name,""),o(10),S(" ",s.supplier.name," "),o(5),S(" ",T(18,8,s.supplier.document,(c=s.MASKS[s.supplier.supplierType==1?"cpf":"cnpj"].text)!==null&&c!==void 0?c:"")," "),o(6),d("checked",s.supplier.active),o(3),d("src",s.addressMap,ue),o(),d("products",s.supplier.products),o(2),d("routerLink",v(11,Ni,s.supplier.id)),o(3),d("routerLink",A(13,Fi))}},dependencies:[M,le,H]});let n=e;return n})();var Ai=()=>["/supplier/list"];function Ti(n,e){if(n&1&&(i(0,"li"),r(1),t()),n&2){let l=e.$implicit;o(),B(l)}}function wi(n,e){if(n&1&&(i(0,"div",11)(1,"h3",12),r(2,"Oops! Something isn't right:"),t(),i(3,"ul"),u(4,Ti,2,1,"li",13),t()()),n&2){let l=h();o(4),d("ngForOf",l.errors)}}var Dt=(()=>{let e=class e{constructor(a,p,s,c,E){this.fornecedorService=a,this.route=p,this.router=s,this.toastr=c,this.sanitizer=E,this.supplier=new b,this.MASKS=q,this.errors=[],this.supplier=new b(this.route.snapshot.data.supplier),this.addressMap=this.sanitizer.bypassSecurityTrustResourceUrl("https://www.google.com/maps/embed/v1/place?q="+this.fullAddressToString()+"&key=AIzaSyD4iE2xVSpkLLOXoyqT-RuPwURN3ddScAI")}deleteSupplier(){window.confirm("Are you sure you want to exclude the supplier?")&&this.fornecedorService.deleteSupplier(this.supplier.id).subscribe({next:a=>{this.successfullyDelete(a)},error:a=>{this.failedDelete(a)}})}successfullyDelete(a){let p=this.toastr.success("Supplier delete successfully!","Good bye :D");p&&p.onHidden.subscribe(()=>{this.router.navigate(["/supplier/list"])})}failedDelete(a){this.errors=a.error.errors,this.toastr.error("An error occurred ","Oops :'(")}fullAddressToString(){return`${this.supplier.address.street}, ${this.supplier.address.houseNumber} - ${this.supplier.address.neighborhood}, ${this.supplier.address.city} - ${this.supplier.address.state}`}};e.\u0275fac=function(p){return new(p||e)(f(I),f(te),f(j),f(ie),f(ee))},e.\u0275cmp=x({type:e,selectors:[["app-supplier-delete"]],decls:33,vars:12,consts:[[1,"container","main-container"],["class","alert alert-danger",4,"ngIf"],[1,"row"],[1,"col-sm-2"],[1,"control-label"],[1,"col-sm-10"],["aria-label","active","disabled","disabled","type","checkbox",1,"check-box",3,"checked"],["width","100%","height","450","frameborder","0","allowfullscreen","",2,"border","0","padding-bottom","50px",3,"src"],[3,"products"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-info",3,"routerLink"],[1,"alert","alert-danger"],["id","msgRetorno"],[4,"ngFor","ngForOf"]],template:function(p,s){if(p&1&&(i(0,"div",0)(1,"h3"),r(2),t(),m(3,"hr"),u(4,wi,5,1,"div",1),i(5,"div")(6,"dl",2)(7,"dt",3)(8,"label",4),r(9,"Name"),t()(),i(10,"dd",5),r(11),t(),i(12,"dt",3)(13,"label",4),r(14,"Document"),t()(),i(15,"dd",5),r(16),C(17,"mask"),t(),i(18,"dt",3)(19,"label",4),r(20,"Active"),t()(),i(21,"dd",5),m(22,"input",6),t()(),i(23,"div",2),m(24,"br")(25,"iframe",7),t(),m(26,"app-products-supplier-list",8),t(),i(27,"div")(28,"a",9),N("click",function(){return s.deleteSupplier()}),r(29,"Delete"),t(),r(30,"\xA0 "),i(31,"a",10),r(32,"Back"),t()()()),p&2){let c;o(2),S("Are you sure you want to exclude the supplier? ",s.supplier.name," ?"),o(2),d("ngIf",s.errors.length>0),o(7),S(" ",s.supplier.name," "),o(5),S(" ",T(17,8,s.supplier.document,(c=s.MASKS[s.supplier.supplierType==1?"cpf":"cnpj"].text)!==null&&c!==void 0?c:"")," "),o(6),d("checked",s.supplier.active),o(3),d("src",s.addressMap,ue),o(),d("products",s.supplier.products),o(5),d("routerLink",A(11,Ai))}},dependencies:[_,V,M,le,H]});let n=e;return n})();var Re=(()=>{let e=class e{constructor(a){this.supplierService=a}resolve(a){return this.supplierService.getById(a.params.id)}};e.\u0275fac=function(p){return new(p||e)(K(I))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let n=e;return n})();var Oe=class{constructor(e){this.router=e,this.localStorage=new vt}validClaims(e){if(!this.localStorage.HasUserLoggedIn())return this.router.navigate(["/account/login"],{queryParams:{returnUrl:this.router.url}}),!1;let l=this.localStorage.getUser();if(e.data[0]!==void 0){let p=e.data[0].claim;if(p){if(!l.claims)return this.unauthorizedAccess(),!1;let s=l.claims.find(E=>E.type===p.name);if(!s)return this.unauthorizedAccess(),!1;s.value.includes(p.value)||this.unauthorizedAccess()}}return!0}unauthorizedAccess(){this.router.navigate(["/unauthorized"])}};var de=(()=>{let e=class e extends Oe{constructor(a){super(a)}canDeactivate(a){return a.changesNotSaved?window.confirm("Changes aren't saved, Do you really want to leave?"):!0}canActivate(a){return super.validClaims(a)}};e.\u0275fac=function(p){return new(p||e)(K(j))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ki=[{path:"",component:It,children:[{path:"",redirectTo:"/supplier/list",pathMatch:"full"},{path:"list",component:Ft},{path:"register",component:Tt,canActivate:[de],canDeactivate:[de],data:[{claim:{name:"Fornecedor",value:"Adicionar"}}]},{path:"edit/:id",component:wt,canActivate:[de],resolve:{supplier:Re},data:[{claim:{name:"Fornecedor",value:"Atualizar"}}]},{path:"details/:id",component:kt,resolve:{supplier:Re}},{path:"delete/:id",component:Dt,resolve:{supplier:Re},canActivate:[de],data:[{claim:{name:"Fornecedor",value:"Excluir"}}]}]}],ir=(()=>{let e=class e{};e.\u0275fac=function(p){return new(p||e)},e.\u0275mod=ce({type:e}),e.\u0275inj=me({imports:[Ve.forChild(ki),Ve]});let n=e;return n})();export{Te as a,we as b,Nt as c,pe as d,ne as e,Ji as f,Oe as g,I as h,Re as i,de as j,ir as k};
